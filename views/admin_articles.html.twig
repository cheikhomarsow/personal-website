{% extends 'layout.html.twig' %}

{% block content %}

    <main class="admin_articles_page">
        <div class="dashbord">
            <h4 class="title">Tableau de bord</h4>
            <div class="users"><a href="?action=admin_users">Utilisateurs</a></div>
            <div class="articles"><a href="?action=admin_articles">Articles</a></div>
            <div class="comments"><a href="?action=admin_comments">Commentaires</a></div>
        </div>
        <div class="recap">
            {% if availableArticle is defined and availableArticle is not empty %}
                <table>
                    <tr class="subject_infos">
                        <th class="autor">Auteur</th>
                        <th class="title">Sujet</th>
                        <th class="date">Date de publication</th>
                    </tr>
                    {% for article in availableArticle %}

                        <tr class="infos_articles">
                            <td class="none">
                                <form action="?action=admin_articles" method="POST">
                                    <input type="text" name="article_id" value="{{ article.id }}">
                                    <input id="{{ article.id }}" type="submit">
                                </form>
                            </td>
                            <td class="autor">{{ autor.username }}</td>
                            <td class="title"><span class="id">ID: </span><span class="id_val">{{ article.id }}</span>&nbsp;&nbsp;{{ article.title | slice(0, 100)}} </td>
                            <td class="date">{{ article.date | date("d/m/y")}}<label for="{{ article.id }}"><img src="assets/img/delete.png"></label></td>
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}
        </div>
    </main>

{% endblock %}
